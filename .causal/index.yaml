---
version: 1.2.3
last_updated: '2026-01-25'
context: Stargate Demo (Readability & Layout Patch)
nodes:
  system.core:
    description: Runtime entry point, Stargate activation, and Causal Sentinel
    files:
    - path: app/main.rb
      ranges:
      - 1-16
    primary_responsibility: Boot
  
  presentation.trailer_fx:
    description: Global Cinematic Layer (Letterboxing, Shake, Flash overlays)
    files:
    - path: app/main.rb
      ranges:
      - 366-408
    primary_responsibility: Movie Aesthetic

  presentation.transition:
    description: Rive-style procedural curtain transition with midpoint state swap
    files:
    - path: app/main.rb
      ranges:
      - 374-404
    primary_responsibility: Fluid Scene Swapping

  presentation.scene.intro:
    description: Analog Static start - Triggers controlled audio (:bgm) on click
    files:
    - path: app/main.rb
      ranges:
      - 18-39
    primary_responsibility: Atmosphere & Audio Start

  presentation.scene.epic_quotes:
    description: Scripted narrative with bilingual cinematic subtitles
    files:
    - path: app/main.rb
      ranges:
      - 41-82
    primary_responsibility: Philosophy & Lore

  presentation.scene.countdown:
    description: Dramatic flash countdown
    files:
    - path: app/main.rb
      ranges:
      - 84-100
    primary_responsibility: Narrative Pacing

  presentation.scene.cars:
    description: Formula 1 high-speed chase with track boundary fix
    files:
    - path: app/main.rb
      ranges:
      - 102-165
    primary_responsibility: Gameplay 1 (Action)

  presentation.scene.interlude:
    description: Cinematic bridge transition
    files:
    - path: app/main.rb
      ranges:
      - 167-185
    primary_responsibility: Tension Building

  presentation.scene.boss_battle:
    description: Climax Battle vs Dragon. Corrected HP/UI sizing.
    files:
    - path: app/main.rb
      ranges:
      - 187-329
    primary_responsibility: Climax Gameplay

  presentation.scene.outro:
    description: Philosophical closure. Layout optimized for logo/text readability.
    files:
    - path: app/main.rb
      ranges:
      - 331-364
    primary_responsibility: Closure & Creative Replay

  system.scene_management:
    description: Transition trigger and internal state swap logic
    files:
    - path: app/main.rb
      ranges:
      - 410-434
    primary_responsibility: Sequencing & Resource Cleanup
